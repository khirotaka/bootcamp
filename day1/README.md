# Day1

## stdioって何
多くの人が一度は以下のコードを読んだり書いたりした事があると思う。

```c
#include <stdio.h>

int main(void) {
    printf("hello, world\n");
    return 0;
}
```

では、1行目の `#include <stdio.h>` の `stdio` とは何だろうか？
少なくとも **おまじない** といういう回答は不正解である。  
今日は、この問題に立ち向かいつつ Unix/Linux業界における基本中の基本について説明する。

## Standard I/O
プログラミングにおいて関数は何らかの略語になっていることが多い。当然この `stdio` も略語である。  
正解は、本節の題名にもなっている通り **St**andar**d** **I/O** 直訳すると、 **標準入出力** という意味である。
ではそれぞれをもう少し掘り下げてみよう。

### 標準出力
これは諸君が嫌というほど見てきた C言語の `printf()` や Pythonの `print()` がこれに該当する。
**デフォルトでは、** コマンドラインに文字列を出力するだけだ。では、別の方法を試してみよう。  
まず初めにターミナル上で、以下のコマンドを書いて欲しい。

```sh
jetson@jetson:~$ echo hello
```

この `echo` というコマンドは引数で与えられた文字列を標準出力として出力するただそれだけのコマンドだ。
Pythonの `print()` に対応すると思ってもらって問題ない。  
では、次にこれをテキストに保存してみよう。

```sh
jetson@jetson:~$ echo hello > hello.txt 
```
  
これで `hello.txt` というファイルがカレントディレクトリ上に作成され、その中に hello という文字列が保存された。  
実際に確認してみよう。
ターミナル上で `ls` と打てばファイル・ディレクトリ名を確認できるし、 `cat ファイル名` とすればファイルの中身を標準出力で得ることが出来る。

```sh
jetson@jetson:~$ ls
jetson@jetson:~$ cat hello.txt
```

こういった標準出力をファイルに書き込む操作のことをリダイレクトと呼ぶ。
この操作で注意が必要なのが `>` の数だ。以下を参照してほしい。

* `>` ... 指定したファイルに**上書き**。
* `>>` ... 指定したファイルに**追記**。

上書きと言うことは元のデータは削除されるので注意が必要だ。

### 標準入力
標準出力のデフォルトの出力先はディスプレイだった。では、標準入力のデフォルトの入力先はどこだろう？  
答えは簡単。キーボードである。C言語では以下の関数を使って入力を受け取り、そのまま画面に表示するといったコードを書いたことがある人も多いだろう。

```c
#include <stdio.h>

int main(void) {
    int age = 0;
    printf("年齢を入力してください。: ");
    scanf("%d", &age);
    
    printf("%d\n", age);
    return 0;
}
```

この `scanf()` が標準入力を担当する関数である。
この標準入力も標準出力の時と同じような手順でデータを処理することが出来る。つまり、テキストを直接与える事が出来ると言う事だ。

ここで、`grep` と `curl` というUnixコマンドを伝授しよう。
`grep` は指定した文字列が標準入力内に含まれているかどうかを調べるコマンド。
`curl` はurlを指定するとそれをダウンロードし **標準出力で返す** コマンドだ。

まず、 `curl` 単体でファイルをダウンロードしてみよう。

```sh
jetson@jetson:~$ curl .... > dl.txt
jetson@jetson:~$ cat dl.txt
```

うん、非常に見にくい。次に、このファイルの中から特定の文字列を探してみよう。
```sh
jetson@jetson:~$ grep hello dl.txt
```

